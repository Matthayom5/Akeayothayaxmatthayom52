<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‚öõÔ∏è Physical Science</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Sarabun', sans-serif;
    }
    .choice-btn {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .choice-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.4);
    }
        .back-button {
  position: absolute;
  top: 20px;
  right: 20px;
  background: black;
  color: white;
  padding: 10px 16px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: bold;
  text-decoration: none; /* << ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏ï‡πâ */
  box-shadow: 0 4px 10px rgb(255, 3, 3);
  z-index: 1000;
  transition: background 0.3s;
}
.back-button:hover {
  background: red;
}
  </style>
</head>
<body class="bg-gradient-to-br from-indigo-100 via-white to-blue-200 min-h-screen flex items-center justify-center p-4">
  <div class="bg-white rounded-3xl shadow-xl p-8 max-w-xl w-full text-center">
    <h1 class="text-3xl font-extrabold text-indigo-700 mb-1">üß™ ‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏ò‡∏≤‡∏ï‡∏∏</h1>
    <p class="text-md text-gray-600 mb-4">‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∞‡∏™‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô!</p>

    <div class="flex justify-between text-sm text-gray-600 mb-4">
      <div>‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà <span id="current">1</span> / 20</div>
      <div>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score">0</span></div>
    </div>

    <div class="bg-indigo-50 p-4 rounded-xl mb-6 shadow-sm">
      <p id="question" class="text-lg font-medium text-indigo-900">...</p>
    </div>

    <div id="choices" class="grid grid-cols-2 gap-4 mb-6">
      <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏î‡πâ‡∏ß‡∏¢ JS -->
    </div>

    <p id="feedback" class="text-lg font-semibold mb-4"></p>

    <button id="next-btn" onclick="nextQuestion()" class="px-5 py-2.5 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition disabled:bg-gray-400" disabled>‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ</button>

    <div id="game-over" class="mt-6 text-center hidden">
      <p class="text-xl font-bold text-green-600 mb-2">üéâ ‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡πÑ‡∏î‡πâ <span id="final-score"></span> ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏≤‡∏Å 20 ‡∏Ç‡πâ‡∏≠!</p>
      <button onclick="showMistakes()" class="mt-2 px-4 py-2 bg-pink-500 text-white rounded hover:bg-pink-600">‡∏î‡∏π‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î</button>
    </div>

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î -->
<button onclick="hideMistakes()" class="mt-2 ml-2 px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500">
  ‡∏õ‡∏¥‡∏î
</button>

<!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà -->
<button onclick="restartGame()" class="mt-2 ml-2 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700">
  ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
</button>


    <div id="mistake-list" class="mt-6 text-left hidden">
      <h2 class="text-md font-bold text-red-600 mb-2">‚ùå ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î:</h2>
      <ul id="mistakes" class="text-sm list-disc list-inside text-gray-700"></ul>
    </div>
  </div>

  <!-- üîô ‡∏õ‡∏∏‡πà‡∏° Back -->
<audio id="back-sound" src="togglesound.mp3" preload="auto"></audio>
<a href="index.html" class="font-bold font[Poppins] back-button" title="‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å" onclick="playBackSound(event)">Back</a>

  <!-- üîÅ ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û -->
  <div class="absolute inset-0 w-full h-full bg-cover bg-center -z-20" style="background-image: url('scie.jpg');"></div>

<script>
const elements = [
  { name: "Hydrogen", symbol: "H" },
  { name: "Helium", symbol: "He" },
  { name: "Carbon", symbol: "C" },
  { name: "Oxygen", symbol: "O" },
  { name: "Nitrogen", symbol: "N" },
  { name: "Sodium", symbol: "Na" },
  { name: "Chlorine", symbol: "Cl" },
  { name: "Iron", symbol: "Fe" },
  { name: "Gold", symbol: "Au" },
  { name: "Silver", symbol: "Ag" },
  { name: "Calcium", symbol: "Ca" },
  { name: "Potassium", symbol: "K" },
  { name: "Magnesium", symbol: "Mg" },
  { name: "Phosphorus", symbol: "P" },
  { name: "Sulfur", symbol: "S" },
  { name: "Zinc", symbol: "Zn" },
  { name: "Copper", symbol: "Cu" },
  { name: "Aluminum", symbol: "Al" },
  { name: "Boron", symbol: "B" },
  { name: "Fluorine", symbol: "F" },
  { name: "Iodine", symbol: "I" },
  { name: "Lithium", symbol: "Li" }
];

let currentQuestion = 0;
let score = 0;
const totalQuestions = 20;
let correctAnswer = "";
let correctName = "";
let isAnswered = false;
let allAnswers = [];
let questionPool = []; // ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° pool ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥

  function shuffle(array) {
    return array.sort(() => Math.random() - 0.5);
  }

  function nextQuestion() {
    currentQuestion++;
    document.getElementById("current").textContent = currentQuestion;
    document.getElementById("next-btn").disabled = true;
    document.getElementById("feedback").textContent = "";
    document.getElementById("game-over").classList.add("hidden");
    document.getElementById("mistake-list").classList.add("hidden");

    if (currentQuestion > totalQuestions) {
      document.getElementById("final-score").textContent = score;
      document.getElementById("game-over").classList.remove("hidden");
      document.getElementById("question").textContent = "üéâ ‡∏à‡∏ö‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡πâ‡∏ß!";
      document.getElementById("choices").innerHTML = "";
      document.getElementById("next-btn").style.display = "none";
      return;
    }

    isAnswered = false;

    const element = elements[Math.floor(Math.random() * elements.length)];
    correctAnswer = element.symbol;
    correctName = element.name;
    document.getElementById("question").textContent = `‡∏ò‡∏≤‡∏ï‡∏∏ "${element.name}" ‡∏°‡∏µ‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?`;

    const wrongOptions = shuffle(elements.filter(e => e.symbol !== correctAnswer)).slice(0, 3);
    const options = shuffle([correctAnswer, ...wrongOptions.map(e => e.symbol)]);

    const choicesElem = document.getElementById("choices");
    choicesElem.innerHTML = "";

    options.forEach(option => {
      const btn = document.createElement("button");
      btn.textContent = option;
      btn.className = "choice-btn bg-indigo-100 hover:bg-indigo-200 text-indigo-900 font-semibold py-2 rounded-lg shadow transition";
      btn.onclick = () => checkAnswer(option, btn);
      choicesElem.appendChild(btn);
    });
  }

  function hideMistakes() {
  document.getElementById("mistake-list").classList.add("hidden");
}
function playBackSound(event) {
    event.preventDefault(); // ‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
    const audio = document.getElementById("back-sound");
    audio.play();

    // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏•‡πà‡∏ô (‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏≠ 300ms)
    setTimeout(() => {
      window.location.href = "index.html";
    }, 300);
  }

function restartGame() {
  // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á
  currentQuestion = 0;
  score = 0;
  correctAnswer = "";
  correctName = "";
  isAnswered = false;
  allAnswers = [];
  questionPool = [];

  // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI
  document.getElementById("score").textContent = score;
  document.getElementById("current").textContent = 1;
  document.getElementById("next-btn").style.display = "inline-block";
  document.getElementById("game-over").classList.add("hidden");
  document.getElementById("mistake-list").classList.add("hidden");

  // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà
  nextQuestion();
}


  function checkAnswer(selected, btn) {
    if (isAnswered) return;
    isAnswered = true;

    const buttons = document.querySelectorAll("#choices button");
    buttons.forEach(button => button.disabled = true);

    const isCorrect = selected === correctAnswer;

    if (isCorrect) {
      btn.classList.replace("bg-indigo-100", "bg-green-500");
      btn.classList.add("text-white");
      document.getElementById("feedback").textContent = "‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!";
      document.getElementById("feedback").className = "text-green-600 font-bold";
      score++;
    } else {
      btn.classList.replace("bg-indigo-100", "bg-red-500");
      btn.classList.add("text-white");
      document.getElementById("feedback").textContent = `‚ùå ‡∏ú‡∏¥‡∏î! ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏∑‡∏≠ "${correctAnswer}"`;
      document.getElementById("feedback").className = "text-red-600 font-bold";

      buttons.forEach(button => {
        if (button.textContent === correctAnswer) {
          button.classList.replace("bg-indigo-100", "bg-green-500");
          button.classList.add("text-white");
        }
      });
    }

    allAnswers.push({
      question: correctName,
      correct: correctAnswer,
      user: selected,
      isCorrect: isCorrect
    });

    document.getElementById("score").textContent = score;
    document.getElementById("next-btn").disabled = false;
  }

  function showMistakes() {
    const list = document.getElementById("mistakes");
    list.innerHTML = "";

    if (allAnswers.length === 0) {
      list.innerHTML = "<li>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</li>";
    } else {
      allAnswers.forEach((item, index) => {
        const li = document.createElement("li");
        li.classList.add("rounded-lg", "px-4", "py-2");

        if (item.isCorrect) {
          li.innerHTML = `‚úÖ <strong>‡∏Ç‡πâ‡∏≠ ${index + 1}</strong>: ‡∏ò‡∏≤‡∏ï‡∏∏ "<span class="font-semibold">${item.question}</span>" ‚Üí ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö <span class="text-green-700 font-semibold">${item.user}</span> (‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á)`;
          li.classList.add("bg-green-100", "text-green-900");
        } else {
          li.innerHTML = `‚ùå <strong>‡∏Ç‡πâ‡∏≠ ${index + 1}</strong>: ‡∏ò‡∏≤‡∏ï‡∏∏ "<span class="font-semibold">${item.question}</span>" ‚Üí ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö <span class="text-red-700 font-semibold">${item.user}</span>, ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏∑‡∏≠ <span class="text-blue-700 font-semibold">${item.correct}</span>`;
          li.classList.add("bg-red-100", "text-red-900");
        }

        list.appendChild(li);
      });
    }

    const element = elements[Math.floor(Math.random() * elements.length)];

    document.getElementById("mistake-list").classList.remove("hidden");
  }
  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°
if (questionPool.length === 0) {
  questionPool = shuffle([...elements]).slice(0, totalQuestions);
}

const element = questionPool[currentQuestion - 1];


  nextQuestion();
</script>

</body>
</html>
